import{s as he,c as Ee,u as Ce,g as xe,a as Te,r as pe,x as Je,e as Oe,n as Q,y as ze}from"../chunks/scheduler.DohcnHcg.js";import{S as me,i as _e,e as v,s as N,c as b,d as D,h as B,g as m,o as u,j as S,k as d,y as X,z as Re,t as $,a as G,b as le,f as se,l as ne,A as We,u as ge,B as z,v as ve,C as ie,w as be,n as ce,D as ue,x as ke,q as fe,E as De,F as Ie,m as Ne}from"../chunks/index.Cl3zgpww.js";function ee(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}const Ge=n=>({}),Be=n=>({});function Qe(n){let e,t,l,r,s,a,c,p;const f=n[3].header,o=Ee(f,n,n[2],Be),h=n[3].default,i=Ee(h,n,n[2],null);return{c(){e=v("dialog"),t=v("div"),o&&o.c(),l=N(),r=v("div"),s=N(),i&&i.c(),this.h()},l(_){e=b(_,"DIALOG",{class:!0,id:!0});var j=D(e);t=b(j,"DIV",{class:!0});var P=D(t);o&&o.l(P),l=B(P),r=b(P,"DIV",{class:!0}),D(r).forEach(m),s=B(P),i&&i.l(P),P.forEach(m),j.forEach(m),this.h()},h(){u(r,"class","h-[1px] w-full bg-gray-400 mt-1 mb-1"),u(t,"class","flex flex-col bg-gray-200 svelte-1dp5n4f"),u(e,"class","w-1/2 svelte-1dp5n4f"),u(e,"id","modalDialog")},m(_,j){S(_,e,j),d(e,t),o&&o.m(t,null),d(t,l),d(t,r),d(t,s),i&&i.m(t,null),n[5](e),a=!0,c||(p=[X(t,"click",Re(n[4])),X(e,"close",n[6])],c=!0)},p(_,[j]){o&&o.p&&(!a||j&4)&&Ce(o,f,_,_[2],a?Te(f,_[2],j,Ge):xe(_[2]),Be),i&&i.p&&(!a||j&4)&&Ce(i,h,_,_[2],a?Te(h,_[2],j,null):xe(_[2]),null)},i(_){a||($(o,_),$(i,_),a=!0)},o(_){G(o,_),G(i,_),a=!1},d(_){_&&m(e),o&&o.d(_),i&&i.d(_),n[5](null),c=!1,pe(p)}}}function Ye(n,e,t){let{$$slots:l={},$$scope:r}=e,{showModal:s}=e,a;function c(o){Je.call(this,n,o)}function p(o){Oe[o?"unshift":"push"](()=>{a=o,t(1,a)})}const f=()=>t(0,s=!1);return n.$$set=o=>{"showModal"in o&&t(0,s=o.showModal),"$$scope"in o&&t(2,r=o.$$scope)},n.$$.update=()=>{n.$$.dirty&3&&!s&&a&&a.close(),n.$$.dirty&3&&a&&s&&a.showModal()},[s,a,r,l,c,p,f]}class Ke extends me{constructor(e){super(),_e(this,e,Ye,Qe,he,{showModal:0})}}function Xe(n){let e,t,l,r;return{c(){e=v("a"),t=le(n[0]),this.h()},l(s){e=b(s,"A",{href:!0,class:!0});var a=D(e);t=se(a,n[0]),a.forEach(m),this.h()},h(){u(e,"href","#"),u(e,"class","svelte-7ap6w5")},m(s,a){S(s,e,a),d(e,t),l||(r=X(e,"click",n[1]),l=!0)},p(s,[a]){a&1&&ne(t,s[0])},i:Q,o:Q,d(s){s&&m(e),l=!1,r()}}}async function Ze(n){if(n===""){alert("Path to file is missing");return}try{const e=await fetch("http://127.0.0.1:3000/dir",{method:"POST",body:JSON.stringify({path:n}),headers:{"Content-Type":"application/json"}});e.ok?alert("File directory opened in 'Explorer'"):console.log(e)}catch(e){console.log(e),alert(e)}}function et(n,e,t){let{filePath:l}=e,{fileName:r}=e;function s(){return Ze(l),!1}return n.$$set=a=>{"filePath"in a&&t(2,l=a.filePath),"fileName"in a&&t(0,r=a.fileName)},[r,s,l]}class Fe extends me{constructor(e){super(),_e(this,e,et,Xe,he,{filePath:2,fileName:0})}}function je(n,e,t){const l=n.slice();return l[16]=e[t],l}function Ae(n,e,t){const l=n.slice();return l[19]=e[t],l}function Pe(n,e,t){const l=n.slice();return l[22]=e[t],l}function Ue(n,e,t){const l=n.slice();return l[22]=e[t],l}function tt(n){let e,t="Authenticate",l,r;return{c(){e=v("button"),e.textContent=t,this.h()},l(s){e=b(s,"BUTTON",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-16eigo5"&&(e.textContent=t),this.h()},h(){u(e,"class","pt-2 pb-2 pl-4 pr-4 bg-green-800 text-white button svelte-1sq09sd")},m(s,a){S(s,e,a),l||(r=X(e,"click",n[7]),l=!0)},p:Q,d(s){s&&m(e),l=!1,r()}}}function lt(n){let e,t="Authenticated";return{c(){e=v("div"),e.textContent=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-mwtsxj"&&(e.textContent=t),this.h()},h(){u(e,"class","text-green-800 text-bold border-2 rounded-md border-green-800 h-full flex flex-row items-center justify-center pl-4 pr-4")},m(l,r){S(l,e,r)},p:Q,d(l){l&&m(e)}}}function Le(n){let e,t="Add Task",l,r;return{c(){e=v("button"),e.textContent=t,this.h()},l(s){e=b(s,"BUTTON",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-guvsbc"&&(e.textContent=t),this.h()},h(){u(e,"class","pt-2 pb-2 pl-4 pr-4 bg-green-800 text-white")},m(s,a){S(s,e,a),l||(r=X(e,"click",n[11]),l=!0)},p:Q,d(s){s&&m(e),l=!1,r()}}}function st(n){let e,t,l,r=ee(n[19].outputs),s=[];for(let o=0;o<r.length;o+=1)s[o]=Me(Ue(n,r,o));const a=o=>G(s[o],1,1,()=>{s[o]=null});let c=ee(n[19].logs),p=[];for(let o=0;o<c.length;o+=1)p[o]=Se(Pe(n,c,o));const f=o=>G(p[o],1,1,()=>{p[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=N();for(let o=0;o<p.length;o+=1)p[o].c();t=Ne()},l(o){for(let h=0;h<s.length;h+=1)s[h].l(o);e=B(o);for(let h=0;h<p.length;h+=1)p[h].l(o);t=Ne()},m(o,h){for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(o,h);S(o,e,h);for(let i=0;i<p.length;i+=1)p[i]&&p[i].m(o,h);S(o,t,h),l=!0},p(o,h){if(h&1){r=ee(o[19].outputs);let i;for(i=0;i<r.length;i+=1){const _=Ue(o,r,i);s[i]?(s[i].p(_,h),$(s[i],1)):(s[i]=Me(_),s[i].c(),$(s[i],1),s[i].m(e.parentNode,e))}for(fe(),i=r.length;i<s.length;i+=1)a(i);ce()}if(h&1){c=ee(o[19].logs);let i;for(i=0;i<c.length;i+=1){const _=Pe(o,c,i);p[i]?(p[i].p(_,h),$(p[i],1)):(p[i]=Se(_),p[i].c(),$(p[i],1),p[i].m(t.parentNode,t))}for(fe(),i=c.length;i<p.length;i+=1)f(i);ce()}},i(o){if(!l){for(let h=0;h<r.length;h+=1)$(s[h]);for(let h=0;h<c.length;h+=1)$(p[h]);l=!0}},o(o){s=s.filter(Boolean);for(let h=0;h<s.length;h+=1)G(s[h]);p=p.filter(Boolean);for(let h=0;h<p.length;h+=1)G(p[h]);l=!1},d(o){o&&(m(e),m(t)),ue(s,o),ue(p,o)}}}function nt(n){let e,t="[]";return{c(){e=v("h1"),e.textContent=t},l(l){e=b(l,"H1",{"data-svelte-h":!0}),z(e)!=="svelte-yfcrok"&&(e.textContent=t)},m(l,r){S(l,e,r)},p:Q,i:Q,o:Q,d(l){l&&m(e)}}}function at(n){let e,t="--";return{c(){e=v("h1"),e.textContent=t},l(l){e=b(l,"H1",{"data-svelte-h":!0}),z(e)!=="svelte-1u9d1aq"&&(e.textContent=t)},m(l,r){S(l,e,r)},p:Q,i:Q,o:Q,d(l){l&&m(e)}}}function Me(n){let e,t;return e=new Fe({props:{filePath:n[22],fileName:n[22].replaceAll("\\","/").split("/").pop()}}),{c(){ge(e.$$.fragment)},l(l){ve(e.$$.fragment,l)},m(l,r){be(e,l,r),t=!0},p(l,r){const s={};r&1&&(s.filePath=l[22]),r&1&&(s.fileName=l[22].replaceAll("\\","/").split("/").pop()),e.$set(s)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){ke(e,l)}}}function Se(n){let e,t;return e=new Fe({props:{filePath:n[22],fileName:n[22].replaceAll("\\","/").split("/").pop()}}),{c(){ge(e.$$.fragment)},l(l){ve(e.$$.fragment,l)},m(l,r){be(e,l,r),t=!0},p(l,r){const s={};r&1&&(s.filePath=l[22]),r&1&&(s.fileName=l[22].replaceAll("\\","/").split("/").pop()),e.$set(s)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){ke(e,l)}}}function qe(n){let e,t,l,r=n[19].jobId+"",s,a,c,p=n[19].taskName+"",f,o,h,i=n[19].files+"",_,j,P,I=n[19].status+"",O,J,E,T,C,F,q;const H=[at,nt,st],y=[];function w(g,U){return g[19].status!=="SUCCEEDED"&&g[19].status!=="FAILED"&&g[19].status!=="CANCELED"?0:g[19].logs.length===0&&g[19].outputs.length===0?1:2}return T=w(n),C=y[T]=H[T](n),{c(){e=v("tbody"),t=v("tr"),l=v("td"),s=le(r),a=N(),c=v("td"),f=le(p),o=N(),h=v("td"),_=le(i),j=N(),P=v("td"),O=le(I),J=N(),E=v("td"),C.c(),F=N(),this.h()},l(g){e=b(g,"TBODY",{class:!0});var U=D(e);t=b(U,"TR",{class:!0});var L=D(t);l=b(L,"TD",{class:!0});var Y=D(l);s=se(Y,r),Y.forEach(m),a=B(L),c=b(L,"TD",{class:!0});var Z=D(c);f=se(Z,p),Z.forEach(m),o=B(L),h=b(L,"TD",{class:!0});var K=D(h);_=se(K,i),K.forEach(m),j=B(L),P=b(L,"TD",{class:!0});var R=D(P);O=se(R,I),R.forEach(m),J=B(L),E=b(L,"TD",{class:!0});var V=D(E);C.l(V),V.forEach(m),L.forEach(m),F=B(U),U.forEach(m),this.h()},h(){u(l,"class","pl-2 pr-2 pt-1 pb-1"),u(c,"class","pl-2 pr-2 pt-1 pb-1"),u(h,"class","pl-2 pr-2 pt-1 pb-1"),u(P,"class","pl-2 pr-2 pt-1 pb-1"),u(E,"class","pl-2 pr-2 pt-1 pb-1"),u(t,"class","svelte-1sq09sd"),u(e,"class","h-[30px] svelte-1sq09sd")},m(g,U){S(g,e,U),d(e,t),d(t,l),d(l,s),d(t,a),d(t,c),d(c,f),d(t,o),d(t,h),d(h,_),d(t,j),d(t,P),d(P,O),d(t,J),d(t,E),y[T].m(E,null),d(e,F),q=!0},p(g,U){(!q||U&1)&&r!==(r=g[19].jobId+"")&&ne(s,r),(!q||U&1)&&p!==(p=g[19].taskName+"")&&ne(f,p),(!q||U&1)&&i!==(i=g[19].files+"")&&ne(_,i),(!q||U&1)&&I!==(I=g[19].status+"")&&ne(O,I);let L=T;T=w(g),T===L?y[T].p(g,U):(fe(),G(y[L],1,1,()=>{y[L]=null}),ce(),C=y[T],C?C.p(g,U):(C=y[T]=H[T](g),C.c()),$(C,1),C.m(E,null))},i(g){q||($(C),q=!0)},o(g){G(C),q=!1},d(g){g&&m(e),y[T].d()}}}function ot(n){let e,t='<span class="font-semibold">Click to upload</span> or drag and drop',l,r,s="Select two files (One .USD and .JSON)";return{c(){e=v("p"),e.innerHTML=t,l=N(),r=v("p"),r.textContent=s,this.h()},l(a){e=b(a,"P",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-24npbu"&&(e.innerHTML=t),l=B(a),r=b(a,"P",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-l8bbx8"&&(r.textContent=s),this.h()},h(){u(e,"class","mb-2 text-sm text-gray-500 dark:text-gray-400"),u(r,"class","text-xs text-gray-500 dark:text-gray-400")},m(a,c){S(a,e,c),S(a,l,c),S(a,r,c)},p:Q,d(a){a&&(m(e),m(l),m(r))}}}function rt(n){let e,t='<span class="font-semibold">Files selected</span> (click to change)',l,r,s=ee(n[5]),a=[];for(let c=0;c<s.length;c+=1)a[c]=Ve(je(n,s,c));return{c(){e=v("p"),e.innerHTML=t,l=N(),r=v("ul");for(let c=0;c<a.length;c+=1)a[c].c();this.h()},l(c){e=b(c,"P",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-keofhd"&&(e.innerHTML=t),l=B(c),r=b(c,"UL",{class:!0});var p=D(r);for(let f=0;f<a.length;f+=1)a[f].l(p);p.forEach(m),this.h()},h(){u(e,"class","mb-2 text-sm text-gray-500 dark:text-gray-400"),u(r,"class","p-0")},m(c,p){S(c,e,p),S(c,l,p),S(c,r,p);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(r,null)},p(c,p){if(p&32){s=ee(c[5]);let f;for(f=0;f<s.length;f+=1){const o=je(c,s,f);a[f]?a[f].p(o,p):(a[f]=Ve(o),a[f].c(),a[f].m(r,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=s.length}},d(c){c&&(m(e),m(l),m(r)),ue(a,c)}}}function Ve(n){let e,t,l=n[16].name+"",r;return{c(){e=v("li"),t=le("- "),r=le(l),this.h()},l(s){e=b(s,"LI",{class:!0});var a=D(e);t=se(a,"- "),r=se(a,l),a.forEach(m),this.h()},h(){u(e,"class","text-xs text-gray-700 dark:text-gray-600")},m(s,a){S(s,e,a),d(e,t),d(e,r)},p(s,a){a&32&&l!==(l=s[16].name+"")&&ne(r,l)},d(s){s&&m(e)}}}function it(n){let e,t,l="Job Name",r,s,a,c,p,f,o,h,i,_,j,P,I,O,J,E,T="Add Task",C,F;function q(w,g){return w[5].length===2?rt:ot}let H=q(n),y=H(n);return{c(){e=v("div"),t=v("label"),t.textContent=l,r=N(),s=v("input"),a=N(),c=v("label"),p=N(),f=v("div"),o=v("label"),h=v("div"),i=De("svg"),_=De("path"),j=N(),y.c(),P=N(),I=v("input"),O=N(),J=v("div"),E=v("button"),E.textContent=T,this.h()},l(w){e=b(w,"DIV",{class:!0});var g=D(e);t=b(g,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(t)!=="svelte-10hlc1z"&&(t.textContent=l),r=B(g),s=b(g,"INPUT",{placeholder:!0,id:!0,class:!0}),a=B(g),c=b(g,"LABEL",{for:!0,class:!0}),D(c).forEach(m),p=B(g),f=b(g,"DIV",{class:!0});var U=D(f);o=b(U,"LABEL",{for:!0,class:!0});var L=D(o);h=b(L,"DIV",{class:!0});var Y=D(h);i=Ie(Y,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var Z=D(i);_=Ie(Z,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),D(_).forEach(m),Z.forEach(m),j=B(Y),y.l(Y),Y.forEach(m),P=B(L),I=b(L,"INPUT",{id:!0,type:!0,class:!0,name:!0,accept:!0}),L.forEach(m),U.forEach(m),O=B(g),J=b(g,"DIV",{class:!0});var K=D(J);E=b(K,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),z(E)!=="svelte-1ensx1p"&&(E.textContent=T),K.forEach(m),g.forEach(m),this.h()},h(){u(t,"for","taskName"),u(t,"class","mb-2"),u(s,"placeholder","Task Name"),u(s,"id","taskName"),u(s,"class","pt-2 pb-2 pl-4 pr-4 rounded-sm"),u(c,"for","fileUpload"),u(c,"class","mt-3 mb-2"),u(_,"stroke","currentColor"),u(_,"stroke-linecap","round"),u(_,"stroke-linejoin","round"),u(_,"stroke-width","2"),u(_,"d","M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"),u(i,"class","w-8 h-8 mb-4 text-gray-500 dark:text-gray-400"),u(i,"aria-hidden","true"),u(i,"xmlns","http://www.w3.org/2000/svg"),u(i,"fill","none"),u(i,"viewBox","0 0 20 16"),u(h,"class","flex flex-col items-center justify-center pt-5 pb-6"),u(I,"id","fileUpload"),u(I,"type","file"),u(I,"class","hidden"),u(I,"name","fileUpload"),u(I,"accept",".json, .usd"),I.multiple=!0,u(o,"for","fileUpload"),u(o,"class","flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100"),u(f,"class","flex items-center justify-center w-full"),u(E,"id","addTaskButton"),u(E,"class","button pt-2 pb-2 w-full text-white bg-green-800 rounded-md svelte-1sq09sd"),u(J,"class","flex flex-row justify-end mt-4"),u(e,"class","flex flex-col pt-4 pb-4")},m(w,g){S(w,e,g),d(e,t),d(e,r),d(e,s),d(e,a),d(e,c),d(e,p),d(e,f),d(f,o),d(o,h),d(h,i),d(i,_),d(h,j),y.m(h,null),d(o,P),d(o,I),d(e,O),d(e,J),d(J,E),C||(F=[X(I,"change",n[8]),X(E,"click",n[6])],C=!0)},p(w,g){H===(H=q(w))&&y?y.p(w,g):(y.d(1),y=H(w),y&&(y.c(),y.m(h,null)))},d(w){w&&m(e),y.d(),C=!1,pe(F)}}}function ct(n){let e,t,l="New Task",r,s,a="close",c,p;return{c(){e=v("div"),t=v("h2"),t.textContent=l,r=N(),s=v("button"),s.textContent=a,this.h()},l(f){e=b(f,"DIV",{slot:!0,class:!0});var o=D(e);t=b(o,"H2",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-vwifd9"&&(t.textContent=l),r=B(o),s=b(o,"BUTTON",{class:!0,"data-svelte-h":!0}),z(s)!=="svelte-1d8eh0b"&&(s.textContent=a),o.forEach(m),this.h()},h(){u(t,"class","pb-2 pt-2 font-medium"),u(s,"class","h-[30px] text-red-500"),u(e,"slot","header"),u(e,"class","flex flex-row flex-1 justify-between items-center")},m(f,o){S(f,e,o),d(e,t),d(e,r),d(e,s),c||(p=X(s,"click",n[12]),c=!0)},p:Q,d(f){f&&m(e),c=!1,p()}}}function ut(n){let e,t,l="Client Details",r,s,a,c,p,f,o,h,i,_,j,P,I,O,J="Tasks",E,T,C,F,q='<th class="pl-2 pr-2 pt-1 pb-1 svelte-1sq09sd">Job ID</th> <th class="pl-2 pr-2 pt-1 pb-1 svelte-1sq09sd">Job Name</th> <th class="pl-2 pr-2 pt-1 pb-1 svelte-1sq09sd">Files</th> <th class="pl-2 pr-2 pt-1 pb-1 svelte-1sq09sd">Status</th> <th class="pl-2 pr-2 pt-1 pb-1 svelte-1sq09sd">Results</th>',H,y,w,g,U,L,Y;function Z(k,x){return k[4]?lt:tt}let K=Z(n),R=K(n),V=n[4]&&Le(n),te=ee(n[0]),A=[];for(let k=0;k<te.length;k+=1)A[k]=qe(Ae(n,te,k));const He=k=>G(A[k],1,1,()=>{A[k]=null});function $e(k){n[13](k)}let we={class:"w-1/2",$$slots:{header:[ct],default:[it]},$$scope:{ctx:n}};return n[3]!==void 0&&(we.showModal=n[3]),w=new Ke({props:we}),Oe.push(()=>We(w,"showModal",$e)),{c(){e=v("div"),t=v("h1"),t.textContent=l,r=N(),s=v("div"),a=v("div"),c=v("input"),p=N(),f=v("input"),o=N(),R.c(),h=N(),i=v("div"),V&&V.c(),_=N(),j=v("div"),P=N(),I=v("div"),O=v("h1"),O.textContent=J,E=N(),T=v("div"),C=v("table"),F=v("thead"),F.innerHTML=q,H=N();for(let k=0;k<A.length;k+=1)A[k].c();y=N(),ge(w.$$.fragment),this.h()},l(k){e=b(k,"DIV",{class:!0});var x=D(e);t=b(x,"H1",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-14dd60t"&&(t.textContent=l),r=B(x),s=b(x,"DIV",{class:!0});var W=D(s);a=b(W,"DIV",{class:!0});var M=D(a);c=b(M,"INPUT",{placeholder:!0,class:!0}),p=B(M),f=b(M,"INPUT",{type:!0,placeholder:!0,class:!0}),o=B(M),R.l(M),M.forEach(m),h=B(W),i=b(W,"DIV",{class:!0});var ae=D(i);V&&V.l(ae),ae.forEach(m),W.forEach(m),_=B(x),j=b(x,"DIV",{class:!0}),D(j).forEach(m),P=B(x),I=b(x,"DIV",{class:!0});var oe=D(I);O=b(oe,"H1",{class:!0,"data-svelte-h":!0}),z(O)!=="svelte-1xjxcoy"&&(O.textContent=J),E=B(oe),T=b(oe,"DIV",{id:!0,class:!0});var ye=D(T);C=b(ye,"TABLE",{class:!0});var re=D(C);F=b(re,"THEAD",{class:!0,"data-svelte-h":!0}),z(F)!=="svelte-1yyogpi"&&(F.innerHTML=q),H=B(re);for(let de=0;de<A.length;de+=1)A[de].l(re);re.forEach(m),ye.forEach(m),oe.forEach(m),x.forEach(m),y=B(k),ve(w.$$.fragment,k),this.h()},h(){u(t,"class","pt-4 pb-4 font-medium"),u(c,"placeholder","Client ID"),u(c,"class","pt-2 pb-2 pl-4 pr-4 rounded-sm"),u(f,"type","password"),u(f,"placeholder","Client Secret"),u(f,"class","pt-2 pb-2 pl-4 pr-4 rounded-sm ml-2"),u(a,"class","flex row gap-2 items-center"),u(i,"class","flex row spacing-1"),u(s,"class","flex row grow-0 justify-between align-center"),u(j,"class","h-[1px] w-full bg-gray-400 mt-4 mb-4 grow-0"),u(O,"class","pt-4 pb-2 font-medium"),u(F,"class","h-[40px] bg-gray-400 border-gray-200 pt-4 pb-4 svelte-1sq09sd"),u(C,"class","w-full table-auto"),u(T,"id","table"),u(T,"class","flex-grow flex flex-col bg-gray-300 svelte-1sq09sd"),u(I,"class","flex flex-col flex-grow grow overflow-auto"),u(e,"class","flex flex-1 flex-col bg-gray-200 m-6 rounded-md p-8")},m(k,x){S(k,e,x),d(e,t),d(e,r),d(e,s),d(s,a),d(a,c),ie(c,n[1]),d(a,p),d(a,f),ie(f,n[2]),d(a,o),R.m(a,null),d(s,h),d(s,i),V&&V.m(i,null),d(e,_),d(e,j),d(e,P),d(e,I),d(I,O),d(I,E),d(I,T),d(T,C),d(C,F),d(C,H);for(let W=0;W<A.length;W+=1)A[W]&&A[W].m(C,null);S(k,y,x),be(w,k,x),U=!0,L||(Y=[X(c,"input",n[9]),X(f,"input",n[10])],L=!0)},p(k,[x]){if(x&2&&c.value!==k[1]&&ie(c,k[1]),x&4&&f.value!==k[2]&&ie(f,k[2]),K===(K=Z(k))&&R?R.p(k,x):(R.d(1),R=K(k),R&&(R.c(),R.m(a,null))),k[4]?V?V.p(k,x):(V=Le(k),V.c(),V.m(i,null)):V&&(V.d(1),V=null),x&1){te=ee(k[0]);let M;for(M=0;M<te.length;M+=1){const ae=Ae(k,te,M);A[M]?(A[M].p(ae,x),$(A[M],1)):(A[M]=qe(ae),A[M].c(),$(A[M],1),A[M].m(C,null))}for(fe(),M=te.length;M<A.length;M+=1)He(M);ce()}const W={};x&134217768&&(W.$$scope={dirty:x,ctx:k}),!g&&x&8&&(g=!0,W.showModal=k[3],ze(()=>g=!1)),w.$set(W)},i(k){if(!U){for(let x=0;x<te.length;x+=1)$(A[x]);$(w.$$.fragment,k),U=!0}},o(k){A=A.filter(Boolean);for(let x=0;x<A.length;x+=1)G(A[x]);G(w.$$.fragment,k),U=!1},d(k){k&&(m(e),m(y)),R.d(),V&&V.d(),ue(A,k),ke(w,k),L=!1,pe(Y)}}}function ft(n){const e=document.getElementById("taskName").value;if(e===null||e.length===0)return alert("Task job is required"),n.preventDefault(),!1;const t=document.getElementById("fileUpload").files;let l=!1,r=!1;if(t.length!==2)return alert("Please select exactly two files: one .json and one .usd"),n.preventDefault(),!1;for(let s=0;s<t.length;s++){const a=t[s];a.name.endsWith(".json")?l=!0:a.name.endsWith(".usd")&&(r=!0)}return!l||!r?(alert("Please select one .json file and one .usd file."),n.preventDefault(),!1):!0}function dt(n,e,t){let l=[],r="",s="",a="",c=!1,p=!1,f=!1;async function o(){if(ft()){const C=document.getElementById("addTaskButton");C.disabled=!0,C.innerHTML='Processing... <div class="spinner"></div>',document.getElementById("fileUpload");const F=document.getElementById("fileUpload"),q=document.getElementById("taskName").value;let H=[];const y=new FormData;for(const w of F.files)H.push(w.name),y.append("taskFiles",w);y.append("taskName",q);try{const w=await fetch("http://127.0.0.1:3000/task",{method:"POST",body:y,headers:{Authorization:`Bearer ${a}`}});if(!w.ok)throw new Error("Network response was not ok "+w.statusText);const g=await w.json();var E={jobId:g.jobId,queueId:g.queueId,taskName:q,files:H,status:"QUEUED",outputs:[],logs:[]};t(0,l=[...l,E]),document.getElementById("fileUpload").value="",document.getElementById("taskName").value="",document.getElementById("modalDialog").close();const U=setInterval(()=>{T(g.jobId,g.queueId,U)},5e3)}catch(w){console.error("There has been a problem with your fetch operation:",w),alert("There has been a problem with your fetch operation:",w)}C.disabled=!1,C.innerHTML="Add Task"}async function T(C,F,q){if(!f){f=!0;const H=await fetch("http://127.0.0.1:3000/status",{method:"POST",body:JSON.stringify({jobId:C,queueId:F}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});if(!H.ok)alert("Check Status Failed"),clearInterval(q);else{const y=await H.json();t(0,l=l.map(w=>w.jobId===C?{...w,status:y.status,logs:y.logs,outputs:y.outputs}:w)),(y.status==="SUCCEEDED"||y.status==="FAILED"||y.status==="CANCELED")&&clearInterval(q)}f=!1}}}async function h(){if(r===""||s===""){alert("Client ID and Secret is required");return}try{console.log("Sending request ...");const E=await fetch("http://127.0.0.1:3000/login",{method:"POST",body:JSON.stringify({clientID:r,clientSecret:s}),headers:{"Content-Type":"application/json"}});if(!(E!=null&&E.ok))console.log("Error: ",E);else{const T=await E.json();console.log(T),t(4,p=!0),a=T.token}}catch(E){console.log("Error: ",E)}}let i=[];function _(E){const T=E.target.files;t(5,i=Array.from(T)),console.log(i)}function j(){r=this.value,t(1,r)}function P(){s=this.value,t(2,s)}const I=()=>t(3,c=!0),O=()=>{t(3,c=!1)};function J(E){c=E,t(3,c)}return[l,r,s,c,p,i,o,h,_,j,P,I,O,J]}class mt extends me{constructor(e){super(),_e(this,e,dt,ut,he,{})}}export{mt as component};
